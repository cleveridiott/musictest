{"version":3,"sources":["script.tsx"],"names":["require","Script","useState","text","items","notices","state","change","incremental","onSubmit","URL","err","id","show","concat","useEffect","document","getElementById","innerHTML","CodeMirror","lineNumbers","mode","readOnly","value","map","x","join","className","slice","appear","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","afterEnter","y","afterLeave","filter","onKeyDown","data","code","onChange","target","placeholder","onClick"],"mappings":"wMAKAA,EAAQ,IA+IOC,UA7If,WAAmB,IAAD,EACUC,mBAErB,CACCC,KAAM,GACNC,MAAO,GACPC,QAAS,KANC,mBACPC,EADO,KACAC,EADA,KAQVC,EAAc,EAgClB,SAASC,IACL,GAAmB,KAAfH,EAAMH,KAAV,CAEA,IACI,IAAIO,IAAIJ,EAAMH,MAChB,MAAOQ,GAaL,YAZAJ,EAAO,CACHH,MAAOE,EAAMF,MACbD,KAAMG,EAAMH,KACZE,QAAQ,GAAD,mBACAC,EAAMD,SADN,CAEH,CACIF,KAAM,cACNS,GAAG,UAAD,OAAYJ,KACdK,MAAM,OAOtBN,EAAO,CACHH,MAAOE,EAAMF,MAAMU,OAAO,CAACR,EAAMH,OACjCA,KAAM,GACNE,QAASC,EAAMD,WAUvB,OAhEAU,qBAAU,WACNC,SAASC,eAAe,QAASC,UAAY,GAC7CC,IAAWH,SAASC,eAAe,QAAU,CACzCG,aAAa,EACbC,KAAM,aACNC,UAAU,EACVC,MAAM,0CAAD,OAEfjB,EAAMF,MAAMoB,KAAI,SAAAC,GAAC,yBAAgBA,EAAhB,QAAsBC,KAAK,OAF7B,+NA2DT,qCACI,qBAAKC,UAAU,uBAAf,SACI,qBAAKA,UAAU,4BAAf,SACKrB,EAAMD,QAAQuB,MAAM,EAAG,GAAGJ,KAAI,SAAAC,GAC3B,OACI,cAAC,IAAD,CAEII,QAAQ,EACRhB,KAAMY,EAAEZ,KACRiB,MAAM,0BACNC,UAAU,YACVC,QAAQ,cACRC,MAAM,sCACNC,UAAU,cACVC,QAAQ,YACRC,WAAY,WACR7B,EAAO,CACHH,MAAOE,EAAMF,MACbD,KAAMG,EAAMH,KACZE,QAAQ,YAAKC,EAAMD,QAAQmB,KAAI,SAAAa,GAC3B,OAAIA,EAAEzB,KAAOa,EAAEb,GAAWyB,EAEnB,CACHlC,KAAMkC,EAAElC,KACRS,GAAIyB,EAAEzB,GACNC,MAAM,UAKtByB,WAAY,WACR/B,EAAO,CACHH,MAAOE,EAAMF,MACbD,KAAMG,EAAMH,KACZE,QAASC,EAAMD,QAAQkC,QAAO,SAAAF,GAAC,OAAIA,EAAEzB,KAAOa,EAAEb,SA7B1D,SAgCQ,qBAAKe,UAAU,yDAAf,SACI,mBAAGA,UAAU,MAAb,SAAoBF,EAAEtB,UAhCzBsB,EAAEb,WAuC3B,qBAAKe,UAAU,6DAAf,SACI,sBAAKA,UAAU,+BAAf,UACI,sBAAKA,UAAU,OAAf,UACI,mBAAGA,UAAU,iDAAb,8BACA,uBACA,uBAAOf,GAAG,cAAc4B,UAzD5C,SAAmBC,GACG,UAAdA,EAAKC,MACLjC,KAuD0DkC,SA7FlE,SAAkBF,GACdlC,EAAO,CACHH,MAAOE,EAAMF,MACbD,KAAMsC,EAAKG,OAAOrB,MAClBlB,QAASC,EAAMD,WAyF+DkB,MAAOjB,EAAMH,KAC3E0C,YAAY,mBAAmBlB,UAAU,uBAC7C,uBACA,wBACIA,UAAU,qKACVmB,QAASrC,EAFb,wBAMJ,qBAAKG,GAAG,OAAOe,UAAU","file":"static/js/6.e52a424f.chunk.js","sourcesContent":["import \"codemirror/lib/codemirror.css\";\nimport './index.css';\nimport { ChangeEvent, KeyboardEvent, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport CodeMirror from \"codemirror\";\nrequire(\"codemirror/mode/javascript/javascript\");\n\nfunction Script() {\n    const [state, change] = useState<{\n        text: string;items: string[]; notices: { text: string; id: string; show: boolean; }[];\n    }>({\n        text: \"\",\n        items: [],\n        notices: []\n    });\n    let incremental = 0;\n\n    useEffect(() => {\n        document.getElementById(\"code\")!.innerHTML = \"\";\n        CodeMirror(document.getElementById(\"code\")!, {\n            lineNumbers: true,\n            mode: \"javascript\",\n            readOnly: true,\n            value: `function trigger() {\n    var url = [\n${state.items.map(x => `        \"${x}\"`).join(\",\\n\")}\n    ];\n    for (var x = 0; x < url.length; x++) {\n        var uri = url[x];\n        try {\n            UrlFetchApp.fetch(uri);\n        } catch (err) {\n            Logger.log(err.message)\n        }\n    }\n}`\n        })\n    });\n\n    function onChange(data: ChangeEvent<HTMLInputElement>) {\n        change({\n            items: state.items,\n            text: data.target.value,\n            notices: state.notices\n        });\n    }\n\n    function onSubmit() {\n        if (state.text === \"\") return;\n\n        try {\n            new URL(state.text);\n        } catch (err) {\n            change({\n                items: state.items,\n                text: state.text,\n                notices: [\n                    ...state.notices,\n                    {\n                        text: \"Invalid URL\",\n                        id: `notice-${incremental++}`,\n                        show: true\n                    }\n                ]\n            });\n            return;\n        }\n\n        change({\n            items: state.items.concat([state.text]),\n            text: \"\",\n            notices: state.notices\n        });\n    }\n\n    function onKeyDown(data: KeyboardEvent<HTMLInputElement>) {\n        if (data.code === \"Enter\") {\n            onSubmit();\n        }\n    }\n\n    return (\n        <>\n            <div className=\"absolute flex w-full\">\n                <div className=\"block w-full m-3 max-w-xs\">\n                    {state.notices.slice(0, 2).map(x => {\n                        return (\n                            <Transition\n                                key={x.id}\n                                appear={true}\n                                show={x.show}\n                                enter=\"transition duration-200\"\n                                enterFrom=\"opacity-0\"\n                                enterTo=\"opacity-100\"\n                                leave=\"delay-5000 duration-200 ease-in-out\"\n                                leaveFrom=\"opacity-100\"\n                                leaveTo=\"opacity-0\"\n                                afterEnter={() => {\n                                    change({\n                                        items: state.items,\n                                        text: state.text,\n                                        notices: [...state.notices.map(y => {\n                                            if (y.id !== x.id) return y;\n\n                                            return {\n                                                text: y.text,\n                                                id: y.id,\n                                                show: false\n                                            }\n                                        })]\n                                    })\n                                }}\n                                afterLeave={() => {\n                                    change({\n                                        items: state.items,\n                                        text: state.text,\n                                        notices: state.notices.filter(y => y.id !== x.id)\n                                    })\n                                }}>\n                                    <div className=\"w-full m-3 bg-red-300 border border-red-400 rounded-lg\">\n                                        <p className=\"m-2\">{x.text}</p>\n                                    </div>\n                            </Transition>\n                        )\n                    })}\n                </div>\n            </div>\n            <div className=\"flex items-center justify-center h-screen dark:bg-gray-900\">\n                <div className=\"grid grid-cols-1 grid-rows-2\">\n                    <div className=\"m-20\">\n                        <p className=\"text-base md:text-xl font-bold dark:text-white\">Script Generator</p>\n                        <br />\n                        <input id=\"url-textbox\" onKeyDown={onKeyDown} onChange={onChange} value={state.text}\n                            placeholder=\"Put the URL here\" className=\"focus:outline-none\" />\n                        <br />\n                        <button\n                            className=\"p-2 mt-2 transition-colors border rounded border-black hover:bg-black hover:text-white dark:text-white dark:border-white dark:hover:bg-white dark:hover:text-black\"\n                            onClick={onSubmit}>\n                            Add URL\n                        </button>\n                    </div>\n                    <div id=\"code\" className=\"text-sm\"></div>\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Script;\n"],"sourceRoot":""}